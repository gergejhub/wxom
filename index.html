<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Wizz Air METAR/TAF Monitor</title>
<link href="assets/styles.css?v=77.prisort" rel="stylesheet"/>
</head>
<body>
<header class="top">
<div class="brand">
<div class="brand__row">
<div class="brand__title" id="brandTitle">Wizz Air METAR/TAF Monitor</div>
<div class="brand__spacer"></div>
<button class="viewpill" id="viewBtn" title="Toggle TV view (Shift+T)" type="button">
<span class="viewpill__k">VIEW</span>
<span class="viewpill__v" id="viewBtnLabel">AUTO</span>
</button>
<button class="viewpill" id="notifBtn" title="Toggle browser notifications for NEW impacted BASE airports (AUTO view only)" type="button">
  <span class="viewpill__k">NOTIF</span>
  <span class="viewpill__v" id="notifBtnLabel">OFF</span>
</button>
<a class="viewpill viewpill--link" href="stat/" title="Open Stats">
<span class="viewpill__k">STATS</span>
</a>
<a class="viewpill viewpill--link" href="map.html" title="Open Map">
<span class="viewpill__k">MAP</span>
</a>
<a class="viewpill viewpill--link" href="alerts.html" title="Alert guide">
  <span class="viewpill__k">GUIDE</span>
</a>
</div>
<div class="brand__sub">METAR + TAF monitor (aviationweather.gov via GitHub Actions) · OM-A/OM-B policy layer (advisory)</div>
</div>
<div class="tiles" id="tiles">
<button class="tile" data-filter="eng" type="button">
<div class="tile__k">ENG ICE OPS</div>
<div class="tile__v" id="tileEngCount">0</div>
<div class="tile__s">triggered</div><div class="tile__iata" id="tileEngIata"></div>
</button>
<button class="tile" data-filter="met_crit" type="button">
<div class="tile__k">METAR CRIT</div>
<div class="tile__v" id="tileCritCount">0</div>
<div class="tile__s">METAR score ≥ 70</div><div class="tile__iata" id="tileCritIata"></div>
</button>

<button class="tile" data-filter="alert_crit" type="button">
  <div class="tile__k">ALERT CRIT</div>
  <div class="tile__v" id="tileAlertCritCount">0</div>
  <div class="tile__s">overall alert = CRIT</div>
  <div class="tile__iata" id="tileAlertCritIata"></div>
</button>
<button class="tile" data-filter="met_vis300" type="button">
<div class="tile__k">VIS/RVR &lt; 300</div>
<div class="tile__v" id="tileVis300Count">0</div>
<div class="tile__s">METAR VIS/RVR</div><div class="tile__iata" id="tileVis300Iata"></div>
</button>
<button class="tile" data-filter="met_min_best" type="button">
  <div class="tile__k">MINIMA CRIT</div>
  <div class="tile__v" id="tileMinBestCount">0</div>
  <div class="tile__s">below BEST (METAR)</div><div class="tile__iata" id="tileMinBestIata"></div>
</button>
<button class="tile" data-filter="met_min_onlybest" type="button">
  <div class="tile__k">MINIMA LIMIT</div>
  <div class="tile__v" id="tileMinOnlyBestCount">0</div>
  <div class="tile__s">below 2nd (METAR)</div><div class="tile__iata" id="tileMinOnlyBestIata"></div>
</button>

<button class="tile" data-filter="met_ts" type="button">
<div class="tile__k">TS / CB</div>
<div class="tile__v" id="tileTsCount">0</div>
<div class="tile__s">METAR</div><div class="tile__iata" id="tileTsIata"></div>
</button>
<button class="tile" data-filter="met_wind25" type="button">
<div class="tile__k">WIND</div>
<div class="tile__v" id="tileWindCount">0</div>
<div class="tile__s">METAR gust ≥ 25 kt</div><div class="tile__iata" id="tileWindIata"></div>
</button>
<button class="tile" data-filter="met_snow" type="button">
<div class="tile__k">SNOW</div>
<div class="tile__v" id="tileSnowCount">0</div>
<div class="tile__s">METAR</div><div class="tile__iata" id="tileSnowIata"></div>
</button>
<!-- OM-A/OM-B advisory tiles -->
<button class="tile" data-filter="met_toProhib" type="button">
<div class="tile__k">TO PROHIB</div>
<div class="tile__v" id="tileToProhibCount">0</div>
<div class="tile__s">TS/+SN/FZRA/GR…</div><div class="tile__iata" id="tileToProhibIata"></div>
</button>
<button class="tile" data-filter="met_lvto" type="button">
<div class="tile__k">LVTO</div>
<div class="tile__v" id="tileLvtoCount">0</div>
<div class="tile__s">RVR/VIS &lt; 550</div><div class="tile__iata" id="tileLvtoIata"></div>
</button>
<button class="tile" data-filter="met_xwind" type="button">
<div class="tile__k">XWIND</div>
<div class="tile__v" id="tileXwindCount">0</div>
<div class="tile__s">best RWY exceed</div><div class="tile__iata" id="tileXwindIata"></div>
</button>
<button class="tile" data-filter="met_va" type="button">
<div class="tile__k">VA</div>
<div class="tile__v" id="tileVACount">0</div>
<div class="tile__s">ash detected</div><div class="tile__iata" id="tileVAIata"></div>
</button>
<!-- Collapsible TAF block summary -->
<button class="tile tile--ghost tile--tafSummary" id="tileTafSummary" title="Toggle TAF forecast tiles" type="button">
  <div class="tile__k">FORECAST (TAF)</div>
  <div class="tile__v" id="tileTafAnyCount">0</div>
  <div class="tile__s" id="tileTafAnySub">tap to expand</div>
  <div class="tile__iata" id="tileTafAnyIata"></div>
</button>
<!-- Dataset + Reset are the last two tiles -->
<button class="tile" disabled="" id="tileDataset" type="button">
<div class="tile__k">DATASET</div>
<div class="tile__v" id="tileDatasetState">—</div>
<div class="tile__s" id="tileDatasetSub">Last update: —</div>
</button>
<button class="tile tile--reset" id="tileReset" title="Reset filters" type="button">
<div class="tile__k">RESET</div>
<div class="tile__v" id="tileResetCount">↺</div>
<div class="tile__s">clear filters</div>
</button>
</div>
<!-- Collapsible TAF tiles (forecast-based). Hidden by default to reduce tile clutter. -->
<div class="tiles tiles--taf hidden" id="tilesTaf">
  <button class="tile tile--taf" data-filter="taf_crit" type="button">
    <div class="tile__k">CRITICAL (TAF)</div>
    <div class="tile__v" id="tileTafCritCount">0</div>
    <div class="tile__s">TAF score ≥ 70</div>
    <div class="tile__iata" id="tileTafCritIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_vis300" type="button">
    <div class="tile__k">VIS/RVR &lt; 300 (TAF)</div>
    <div class="tile__v" id="tileTafVis300Count">0</div>
    <div class="tile__s">TAF worst VIS/RVR</div>
    <div class="tile__iata" id="tileTafVis300Iata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_min_best" type="button">
    <div class="tile__k">MINIMA CRIT (TAF)</div>
    <div class="tile__v" id="tileTafMinBestCount">0</div>
    <div class="tile__s">below BEST</div>
    <div class="tile__iata" id="tileTafMinBestIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_min_onlybest" type="button">
    <div class="tile__k">MINIMA LIMIT (TAF)</div>
    <div class="tile__v" id="tileTafMinOnlyBestCount">0</div>
    <div class="tile__s">below 2nd</div>
    <div class="tile__iata" id="tileTafMinOnlyBestIata"></div>
  </button>

  <button class="tile tile--taf" data-filter="taf_ts" type="button">
    <div class="tile__k">TS / CB (TAF)</div>
    <div class="tile__v" id="tileTafTsCount">0</div>
    <div class="tile__s">TAF</div>
    <div class="tile__iata" id="tileTafTsIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_wind25" type="button">
    <div class="tile__k">WIND (TAF)</div>
    <div class="tile__v" id="tileTafWindCount">0</div>
    <div class="tile__s">gust ≥ 25 kt</div>
    <div class="tile__iata" id="tileTafWindIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_snow" type="button">
    <div class="tile__k">SNOW (TAF)</div>
    <div class="tile__v" id="tileTafSnowCount">0</div>
    <div class="tile__s">TAF</div>
    <div class="tile__iata" id="tileTafSnowIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_toProhib" type="button">
    <div class="tile__k">TO PROHIB (TAF)</div>
    <div class="tile__v" id="tileTafToProhibCount">0</div>
    <div class="tile__s">TS/+SN/FZRA/GR…</div>
    <div class="tile__iata" id="tileTafToProhibIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_lvto" type="button">
    <div class="tile__k">LVTO (TAF)</div>
    <div class="tile__v" id="tileTafLvtoCount">0</div>
    <div class="tile__s">RVR/VIS &lt; 550</div>
    <div class="tile__iata" id="tileTafLvtoIata"></div>
  </button>
  <button class="tile tile--taf" data-filter="taf_va" type="button">
    <div class="tile__k">VA (TAF)</div>
    <div class="tile__v" id="tileTafVACount">0</div>
    <div class="tile__s">ash detected</div>
    <div class="tile__iata" id="tileTafVAIata"></div>
  </button>
</div>
<div class="toolbar">
<div class="toolbar__left">
<input autocomplete="off" class="q" id="q" placeholder="Search ICAO / IATA / name" type="search"/>
<select class="sel" id="cond">
<option value="all">All conditions</option>
<optgroup label="Tiles (NOW / METAR)">
  <option value="met_crit">METAR CRIT (score ≥ 70)</option>
  <option value="alert_crit">ALERT CRIT (overall)</option>
  <option value="met_vis300">VIS/RVR &lt; 300 (METAR)</option>
  <option value="met_min_best">APPR MINIMA below BEST (METAR)</option>
  <option value="met_min_onlybest">APPR MINIMA below 2nd (METAR)</option>
  <option value="met_ts">TS/CB (METAR)</option>
  <option value="met_wind25">WIND gust ≥ 25KT (METAR)</option>
  <option value="met_snow">SNOW (METAR)</option>
  <option value="met_toProhib">TO PROHIB (METAR)</option>
  <option value="met_lvto">LVTO (METAR)</option>
  <option value="met_xwind">XWIND exceed (METAR)</option>
  <option value="met_va">VA (METAR)</option>
</optgroup>
<optgroup label="Tiles (FORECAST / TAF)">
  <option value="taf_any">Any TAF tile</option>
  <option value="taf_crit">Critical (TAF score ≥ 70)</option>
  <option value="taf_vis300">VIS/RVR &lt; 300 (TAF)</option>
  <option value="taf_min_best">APPR MINIMA below BEST (TAF)</option>
  <option value="taf_min_onlybest">APPR MINIMA below 2nd (TAF)</option>
  <option value="taf_ts">TS/CB (TAF)</option>
  <option value="taf_wind25">WIND gust ≥ 25KT (TAF)</option>
  <option value="taf_snow">SNOW (TAF)</option>
  <option value="taf_toProhib">TO PROHIB (TAF)</option>
  <option value="taf_lvto">LVTO (TAF)</option>
  <option value="taf_va">VA (TAF)</option>
</optgroup>
<optgroup label="Core">
<option value="eng">ENG ICE OPS</option>
<option value="crit">Alert = CRIT (overall)</option>
<option value="vis175">VIS ≤175</option>
</optgroup>
<optgroup label="Weather">
<option value="fog">FG / BR / FZFG</option>
<option value="snow">SN</option>
<option value="rain">RA / DZ</option>
<option value="ts">TS / CB</option>
<option value="gust40">GUST ≥40KT</option>
<option value="gust30">GUST ≥30KT</option>
<option value="gust25">GUST ≥25KT</option>
<option value="cig500">CIG &lt; 500</option>
</optgroup>
<optgroup label="Minima / Policy (OM-A/OM-B advisory)">
<option value="toProhib">TO/LND PROHIBITED (TS / heavy precip)</option>
<option value="lvto">LVTO (RVR/VIS &lt; 550)</option>
<option value="lvp">LVP required (RVR &lt; 400)</option>
<option value="rvr125">RVR &lt; 125 (absolute min)</option>
<option value="xwind">XWIND exceed (best RWY)</option>
<option value="va">Volcanic Ash (VA)</option>
<option value="coldcorr">Cold corrections (OAT ≤ 0°C)</option>
</optgroup>
</select>
<select class="sel" id="alert">
<option value="all">Any alert</option>
<option value="OK">OK</option>
<option value="WARN">WARN</option>
<option value="CRIT">CRIT</option>
</select>
<label class="chk">
<input checked="" id="sortPri" type="checkbox"/>
<span>Priority sort</span>
</label>
</div>
<div class="toolbar__right">
</div>
</div>
<div class="status">
<div class="status__left" id="statCounts">ICAO: 0 | METAR: 0 | TAF: 0</div>
<div class="status__right" id="statUpdated">Last update: —</div>
</div>
</header>
<main class="main">

<div class="alert" id="alertBanner"></div>
<table class="tbl">
<thead>
<tr>
<th>Airport</th>
<th>Alert</th>
<th>Triggers</th>
<th>Worst VIS</th>
<th>RVR</th>
<th>Ceiling</th>
<th>METAR</th>
<th>TAF</th>
<th>Ages</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

</main>
<!-- Drawer -->
<div class="scrim hidden" id="scrim"></div>
<aside aria-modal="true" class="drawer hidden" id="drawer" role="dialog">
<div class="drawer__top">
<div class="drawer__title" id="dAirport">—</div>
<div class="drawer__actions">
  <button class="drawer__btn" id="copyBrief" type="button" title="Copy a single-line briefing summary to clipboard">Copy briefing line</button>
  <button class="drawer__btn" id="copyMgmtBrief" type="button" title="Copy the management-ready 45s briefing to clipboard">Copy mgmt brief</button>
</div>
<button class="drawer__close" id="drawerClose" type="button">×</button>
</div>
<div class="drawer__body" id="drawerBody">
<div class="kv">
<div class="kv__row"><div class="kv__k">Summary</div><div class="kv__v" id="dSub">—</div></div>
<div class="kv__row"><div class="kv__k">Alert</div><div class="kv__v" id="dAlert">—</div></div>
<div class="kv__row"><div class="kv__k">Severity</div><div class="kv__v" id="dSev">—</div></div>
<div class="kv__row"><div class="kv__k">Worst visibility</div><div class="kv__v" id="dWorstVis">—</div></div>
<div class="kv__row"><div class="kv__k">Visibility</div><div class="kv__v" id="dVis">—</div></div>
<div class="kv__row"><div class="kv__k">RVR</div><div class="kv__v" id="dRvr">—</div></div>
<div class="kv__row"><div class="kv__k">Ceiling</div><div class="kv__v" id="dCig">—</div></div>
<div class="kv__row"><div class="kv__k">Triggers</div><div class="kv__v" id="dTriggers">—</div></div>
</div>
<div class="omx">
  <div class="omx__h">Minima / Policy (OM) – Why?</div>
  <div class="omx__note">Advisory: derived only from METAR/TAF text and optional runways.json. Not a substitute for operational judgement.</div>
  <div class="omx__list" id="dOmExplain">—</div>
</div>
<div class="raw">
<div class="raw__h">METAR <span class="raw__age" id="dMetAge"></span></div>
<div class="raw__dec" id="dMetDec"></div>
<pre class="raw__box" id="dMetRaw"></pre>
<div class="raw__h">TAF <span class="raw__age" id="dTafAge"></span></div>
<div class="raw__dec" id="dTafDec"></div>
<pre class="raw__box" id="dTafRaw"></pre>
</div>
</div>
</aside>
<div class="tvToast hidden" id="tvToast" aria-live="polite" role="status"></div>
<script src="assets/om_policy.js?v=74.audit"></script>
<script src="assets/app.js?v=77.prisort"></script>
</body>
</html>
